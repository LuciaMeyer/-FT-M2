<!DOCTYPE html>
<html>

<head>
  <meta charset=UTF-8>
  <title>Demo AJAX</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
  <div id='respuesta'>
  </div>
  <button id='boton'>AJAX!</button>
  <script type="text/javascript">

    /*la sintaxis $() es de ajax que es la librería que estoy usando. De ahí saco los métodos como .get .click
    Event Listener: cuando haga click en boton se ejecuta el método .get que lo que hace es llamar a al url de 
    jsonplaceholder y consologuear el dato
    */
    let index = 1; 
    $('#boton').click(function() {
      $.get(`https://jsonplaceholder.typicode.com/photos/${index}`,function(data){ // traigo el n° de foto según el index

        let title = document.createElement('h3');   // creo un h3
        title.innerText = data.title;               // le digo que contiene el taxto del dato del título jquery
        let img = document.createElement('img');    // creo una img
        img.src = data.url;                         // es la imagen de la url del dato de jquery  
        let container = document.querySelector('#respuesta')    // selecciono el div al que quiero incluir estos elementos
        container.appendChild(title); // lo meto al div
        container.appendChild(img);   // lo meto al div
        index++; //aumento el index para cambiar de foto cada vez q hado click, sino traería siempre la misma

      });

      /* puedo usar fetch que hoy se está usando más que jquery, pero lo hace con promesa
      descomentarlo y comentar el .get para probar en brower */

        // fetch('https://jsonplaceholder.typicode.com/photos/1')
        //   .then(res => res.json())
        //   .then(data => {
        //     console.log(data)
        //   });

      /*ejemplo para crear un post usando ajax método .post comentar $.get() y desocomentar este para probar*/
      
        // $.post(`https://jsonplaceholder.typicode.com/posts`, { // 1° parametro url, 2do es el objeto a agregar, 3° la función
        //   title: 'Henry',
        //   body: 'Post Henry'
        // }, function(data){
        //   console.log(data);
        // });

      /*ejemplo para crear un delete o put usando ajax (no existen los métodos $.delete y $.put) */        
        // $.ajax({
        //   url:`/hecho/html`, 
        //   type: 'DELETE', //o 'PUT'
        //   data: 'data',
        //   success: function(data){
        //     console.log(data);
        //   }
        // });
    });
    </script>
</body>

</html>